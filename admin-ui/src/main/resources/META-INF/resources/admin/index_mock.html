<!doctype html>
<html lang="en">

<head>
    <style>
        .mock_view {
            padding: 2em 2em;
        }

    </style>

    <meta charset="utf-8">
    <title>Keycloak Admin Console</title>

    <link rel="icon" href="/auth/admin-ui/img/favicon.ico">

    <!-- Frameworks -->
    <!--link rel="stylesheet" href="/auth/admin-ui/bootstrap/css/bootstrap.css"-->
    <link rel="stylesheet" href="/auth/admin-ui/patternfly/css/patternfly.css">

    <!-- Page styles -->
    <link rel="stylesheet" href="/auth/admin-ui/css/admin-console.css">
    <link href="lib/select2-3.4.1/select2.css" rel="stylesheet">

    <script src="lib/jquery/jquery-1.10.2.js" type="text/javascript"></script>
    <script src="lib/select2-3.4.1/select2.js" type="text/javascript"></script>

    <script src="lib/angular/angular.js"></script>
    <script src="lib/angular/angular-resource.js"></script>
    <script src="lib/angular/ui-bootstrap-tpls-0.4.0.js"></script>

    <script src="lib/jquery/jquery.idletimer.js" type="text/javascript"></script>
    <script src="lib/jquery/jquery.idletimeout.js" type="text/javascript"></script>
    <script src="lib/angular/select2.js" type="text/javascript"></script>
    <script src="lib/fileupload/angular-file-upload.min.js"></script>     <!--
    <script src="/auth/admin-ui/bootstrap-3.0.0-wip/js/dropdown.js"></script>
    <script src="/auth/admin-ui/bootstrap-3.0.0-wip/js/tooltip.js"></script>
    -->
    <script src="/auth/admin-ui/js/bootstrap-tokenfield.js"></script>

    <script src="/auth/admin-ui/bootstrap/js/bootstrap.js"></script>

    <script src="js/app.js"></script>
    <script src="js/controllers/realm.js"></script>
    <script src="js/controllers/applications.js"></script>
    <script src="js/controllers/oauth-clients.js"></script>
    <script src="js/controllers/users.js"></script>
    <script src="js/loaders.js"></script>
    <script src="js/services.js"></script>

    <style>
        [ng\:cloak], [ng-cloak], .ng-cloak {
            display: none !important;
        }
    </style>
</head>

<body class="admin-console" data-ng-controller="GlobalCtrl" ng-cloak>
<div id="idletimeout">
    You will be logged off in <strong><span></span> seconds</strong> due to inactivity.
    <a id="idletimeout-resume" href="#">Click here to continue using this web page</a>.
</div>


<div class="feedback-aligner" data-ng-show="notification" data-ng-click="notification = null">
    <div class="alert alert-{{notification.type}}"><strong>{{notification.header}}</strong> {{notification.message}}</div>
</div>

<header class="navbar navbar-default navbar-pf navbar-main header">
    <div class="container">
        <nav id="kc-navigation" class="navbar" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <h1 class="navbar-title"><Strong>KeyCloak</Strong> Central Login</h1>
            </div>
            <div class="collapse navbar-collapse navbar-collapse-1">
                <ul class="nav navbar-nav navbar-utility" data-ng-show="auth.loggedIn">
                    <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="pficon pficon-user"></span>
                            {{auth.user.displayName}}<b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="/auth/rest/realms/keycloak-admin/account?referrer=admin-console">Manage Account</a></li>
                            <li class="separator"><a href="/auth/rest/admin/logout">Sign Out</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-primary persistent-secondary" data-ng-controller="RealmDropdownCtrl">
                    <li class="dropdown context" data-ng-show="showNav()">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Realm: {{current.realm.id}}
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li data-ng-repeat="realm in current.realms">
                                <a href="" ng-click="changeRealm(realm.id)" >{{realm.id}}</a>
                            </li>
                        </ul>
                    </li>


<!--------------------------------------->
                    <li class="active">
                        <a href="#">Another Link</a>
                        <ul class="nav navbar-nav navbar-persistent">
                            <li class="dropdown-submenu">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Link</a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#">Link</a>
                                    </li>
                                    <li>
                                        <a href="#">Another link</a>
                                    </li>
                                    <li>
                                        <a href="#">Something else here</a>
                                    </li>
                                    <li>
                                        <a href="#">Remembering to keep</a>
                                    </li>
                                    <li>
                                        <a href="#">It between five and seven</a>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="-1" href="#">More options</a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href="#">Link</a>
                                            </li>
                                            <li>
                                                <a href="#">Another link</a>
                                            </li>
                                            <li>
                                                <a href="#">Something else here</a>
                                            </li>
                                            <li class="divider"></li>
                                            <li>
                                                <a href="#">Separated link</a>
                                            </li>
                                            <li class="divider"></li>
                                            <li>
                                                <a href="#">One more separated link</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">Another Link</a>
                            </li>
                            <li class="dropdown-submenu active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Something Else Here</a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#">Link</a>
                                    </li>
                                    <li>
                                        <a href="#">Another link</a>
                                    </li>
                                    <li>
                                        <a href="#">Something else here</a>
                                    </li>
                                    <li>
                                        <a href="#">Remembering to keep</a>
                                    </li>
                                    <li>
                                        <a href="#">It between five and seven</a>
                                    </li>
                                    <li class="dropdown-submenu dropup active">
                                        <a tabindex="-1" href="#">More options</a>
                                        <ul class="dropdown-menu">
                                            <li class="active">
                                                <a href="#">Link</a>
                                            </li>
                                            <li>
                                                <a href="#">Another link</a>
                                            </li>
                                            <li>
                                                <a href="#">Something else here</a>
                                            </li>
                                            <li class="divider"></li>
                                            <li>
                                                <a href="#">Separated link</a>
                                            </li>
                                            <li class="divider"></li>
                                            <li>
                                                <a href="#">One more separated link</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">Remembering to Keep</a>
                            </li>
                            <li>
                                <a href="#">It Between Five and Seven</a>
                            </li>
                            <li class="dropdown-submenu">
                                <a tabindex="-1" href="#" class="dropdown-toggle" data-toggle="dropdown">More options</a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a href="#">Link</a>
                                    </li>
                                    <li>
                                        <a href="#">Another link</a>
                                    </li>
                                    <li>
                                        <a href="#">Something else here</a>
                                    </li>
                                    <li>
                                        <a href="#">Remembering to keep</a>
                                    </li>
                                    <li>
                                        <a href="#">It between five and seven</a>
                                    </li>
                                    <li class="dropdown-submenu pull-left">
                                        <a tabindex="-1" href="#">More options</a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href="#">Link</a>
                                            </li>
                                            <li>
                                                <a href="#">Another link</a>
                                            </li>
                                            <li>
                                                <a href="#">Something else here</a>
                                            </li>
                                            <li class="divider"></li>
                                            <li>
                                                <a href="#">Separated link</a>
                                            </li>
                                            <li class="divider"></li>
                                            <li>
                                                <a href="#">One more separated link</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">And Another</a>
                    </li>
                    <li>
                        <a href="#">As a General Rule</a>
                    </li>
                    <li>
                        <a href="#">Five to Seven Links</a>
                    </li>
                    <!--------------------------------------->


                    <li class="active pull-right" data-ng-show="auth.loggedIn">
                        <a class="button primary" href="#/create/realm" data-ng-class="path[0] == 'create' && path[1] == 'realm' && 'active'"
                           data-ng-show="auth.loggedIn">Add Realm</a>
                    </li>
                </ul>
            </div>
        </nav>

    </div>
</header>

<div class="container">
    <div class="mock_view" data-ng-view id="view"></div>
    <div id="loading" class="loading-backdrop">
        <div class="loading">
            <span>Loading...</span>
        </div>
    </div>
</div>

<script type="text/javascript">
    $.idleTimeout('#idletimeout', '#idletimeout a', {
        idleAfter: 300,
        pollingInterval: 60,
        keepAliveURL: '/auth/rest/admin/keepalive',
        serverResponseEquals: '',
        failedRequests: 1,
        onTimeout: function(){
            $(this).slideUp();
            window.location = "/auth/rest/admin/logout";
        },
        onIdle: function(){
            $(this).slideDown(); // show the warning bar
        },
        onCountdown: function( counter ){
            $(this).find("span").html( counter ); // update the counter
        },
        onResume: function(){
            $(this).slideUp(); // hide the warning bar
        }
    });
</script>

</body>
</html>
